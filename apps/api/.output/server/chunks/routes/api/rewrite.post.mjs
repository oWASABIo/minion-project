import{d as e,r as t,l as o,u as r,a as s}from"../../nitro/nitro.mjs";import{a as n}from"../../_/gemini.mjs";const a=e(async e=>{const a=await t(e),{text:i,context:c}=a;if(!i)throw o({statusCode:400,statusMessage:"Text is required"});if(!(r().geminiApiKey||s.env.GEMINI_API_KEY||""))return{result:`(AI Mock) Improved: ${i} - [Context: ${c||"None"}]`,mock:!0};try{const e=`\n      Rule: You are a professional copywriter.\n      Task: Rewrite the following text to be more engaging, concise, and professional.\n      Context: ${c||"Website Content"}\n      \n      Original Text:\n      "${i}"\n      \n      Return ONLY the rewritten text. No quotes.\n    `,t=await n(e);return{result:t.response.text().trim().replace(/^"|"$/g,""),mock:!1}}catch(e){throw console.error("Rewrite failed:",e),o({statusCode:500,statusMessage:"AI Rewrite failed"})}});export{a as default};
//# sourceMappingURL=rewrite.post.mjs.map
